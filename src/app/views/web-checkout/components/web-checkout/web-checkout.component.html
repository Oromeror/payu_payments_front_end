<div>
  <form [formGroup]="signatureForm" (ngSubmit)="createSignature($event)">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Generate Signature</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field appearance="outline">
          <mat-label>Api key</mat-label>
          <input
            matInput
            placeholder="Api key"
            formControlName="apiKey"
            type="text"
            required
          />
          <mat-error> Api key is<strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Merchant id</mat-label>
          <input
            matInput
            placeholder="Merchant id"
            formControlName="merchantId"
            type="text"
            required
          />
          <mat-error> Merchant id is<strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Reference code</mat-label>
          <input
            matInput
            placeholder="Reference code"
            formControlName="referenceCode"
            type="text"
            required
          />
          <mat-error>Reference code is<strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Amount</mat-label>
          <input
            matInput
            placeholder="Amount"
            formControlName="amount"
            [pattern]="pricePattern"
            required
            type="number"
            min="0"
          />
          <span class="currency-icon" matPrefix>$&nbsp;</span>
          <mat-error> ¡The amount mus be <strong>valid.</strong>! </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Currency</mat-label>
          <mat-select
            disableRipple
            placeholder="Currency"
            formControlName="currency"
            type="text"
          >
            <mat-option value="ARS">ARS</mat-option>
            <mat-option value="BRL">BRL</mat-option>
            <mat-option value="CLP">CLP</mat-option>
            <mat-option value="COP">COP</mat-option>
            <mat-option value="MXN">MXN</mat-option>
            <mat-option value="PEN">PEN</mat-option>
            <mat-option value="USD">USD</mat-option>
          </mat-select>
          <mat-error> Currency is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-card-actions>
          <button
            [disabled]="signatureForm.invalid"
            mat-raised-button
            type="submit"
          >
            Generate
          </button>
        </mat-card-actions>
        <div class="hash-response">
          <li *ngFor="let signature of signatures">
            {{ signature.hashType }} : {{ signature.hash }}
          </li>
        </div>
      </mat-card-content>
    </mat-card>
  </form>
</div>

<div>
  <form
    [formGroup]="webCheckoutForm"
    (ngSubmit)="createTransaction($event)"
    #heroForm="ngForm"
  >
    <mat-card>
      <mat-card-header>
        <mat-card-title>Create Transaction</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field appearance="outline">
          <mat-label>Merchant id</mat-label>
          <input
            matInput
            placeholder="Merchant id"
            formControlName="merchantId"
            type="text"
            required
          />
          <mat-error> Merchant id is<strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Account id</mat-label>
          <input
            matInput
            placeholder="Account id"
            formControlName="accountId"
            type="text"
            required
          />
          <mat-error> Account id is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Description</mat-label>
          <input
            matInput
            placeholder="Description"
            formControlName="description"
            type="text"
            required
          />
          <mat-error> Description is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Reference code</mat-label>
          <input
            matInput
            placeholder="Reference code"
            formControlName="referenceCode"
            type="text"
            required
          />
          <mat-error> Reference code is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Amount</mat-label>
          <input
            matInput
            placeholder="Amount"
            formControlName="amount"
            [pattern]="pricePattern"
            required
            type="number"
            min="0"
          />
          <span class="currency-icon" matPrefix>$&nbsp;</span>
          <mat-error> ¡The amount mus be <strong>valid.</strong>! </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Tax</mat-label>
          <input
            matInput
            placeholder="Tax"
            formControlName="tax"
            [pattern]="pricePattern"
            required
            type="number"
            min="0"
          />
          <span class="currency-icon" matPrefix>$&nbsp;</span>
          <mat-error> ¡The tax mus be <strong>valid.</strong>! </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Tax Return Base</mat-label>
          <input
            matInput
            placeholder="Tax Return Base"
            formControlName="taxReturnBase"
            [pattern]="pricePattern"
            required
            type="number"
            min="0"
          />
          <span class="currency-icon" matPrefix>$&nbsp;</span>
          <mat-error>
            ¡The tax return base mus be <strong>valid.</strong>!
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Currency</mat-label>
          <mat-select
            disableRipple
            placeholder="Currency"
            formControlName="currency"
            type="text"
          >
            <mat-option value="ARS">ARS</mat-option>
            <mat-option value="BRL">BRL</mat-option>
            <mat-option value="CLP">CLP</mat-option>
            <mat-option value="COP">COP</mat-option>
            <mat-option value="MXN">MXN</mat-option>
            <mat-option value="PEN">PEN</mat-option>
            <mat-option value="USD">USD</mat-option>
          </mat-select>
          <mat-error> Currency is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Signature</mat-label>
          <input
            matInput
            placeholder="Signature"
            formControlName="signature"
            type="text"
            required
          />
          <mat-error> Signature is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Environment</mat-label>
          <mat-select
            disableRipple
            placeholder="Environment"
            formControlName="test"
            type="number"
          >
            <mat-option value="1">1: test</mat-option>
            <mat-option value="0">0: production</mat-option>
          </mat-select>
          <mat-error> Environment is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Buyer Email</mat-label>
          <input
            placeholder="Buyer Email"
            formControlName="buyerEmail"
            required
            [pattern]="emailPattern"
            matInput
            type="email"
          />
          <mat-icon matSuffix>email</mat-icon>
          <mat-error> Email is <strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Response url</mat-label>
          <input
            matInput
            placeholder="Response url"
            formControlName="responseUrl"
            type="text"
            required
          />
          <mat-error> Response url is<strong>required.</strong> </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Confirmation url</mat-label>
          <input
            matInput
            placeholder="Confirmation url"
            formControlName="confirmationUrl"
            type="text"
            required
          />
          <mat-error> Confirmation url is<strong>required.</strong> </mat-error>
        </mat-form-field>
      </mat-card-content>

      <mat-card-actions>
        <button
          [disabled]="webCheckoutForm.invalid"
          mat-raised-button
          type="submit"
        >
          Send
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</div>
